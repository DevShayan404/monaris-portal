<!-- <section>
  <div class="container-fluid">
    <div class="row">
      <div class="col-2"></div>
      <div class="col-10"></div>
    </div>
  </div>
</section> -->

<section>
  <div class="main">
    <header class="d-flex align-items-center">
      <div class="container-fluid">
        <div class="row align-items-center">
          <div class="col-2 ps-4">
            <img width="90" src="assets\images\logo.png" class="ms-3" />
          </div>
          <div class="col-10">
            <div class="row d-flex align-items-center">
              <div class="col d-flex align-items-center">
                <i
                  class="bi bi-text-indent-right me-2"
                  style="font-size: 28px"
                ></i>
                <h5 class="m-0">HELLO, Muhammad Shayan</h5>
              </div>
              <div class="col pe-5">
                <div class="float-end">
                  <nz-avatar
                    nzSize="large"
                    nzIcon="user"
                    nzSrc="assets\images\man.png"
                  ></nz-avatar>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>
    <div class="container-fluid g-0">
      <div class="row g-0">
        <div class="col-2 py-2 sidebar">
          <ul>
            @for (link of sidebarLinks; track link.id; let i = $index) {
            <li
              class="links"
              [class.active]="i === activeIndex"
              (click)="setActiveIndex(i, link)"
            >
              <div>
                <i [class]="link?.icon"></i><a>{{ link?.name }}</a>
              </div>
              @if (link?.children) {
              <div>
                <i
                  [class]="
                    childrenCollapse[i]
                      ? 'bi bi-chevron-up'
                      : 'bi bi-chevron-down'
                  "
                ></i>
              </div>
              }
            </li>
            @if (link?.children && childrenCollapse[i]) {
            <ul class="child-ul" [@slideInOut]>
              @for (item of link?.children; track item?.id; let childIndex =
              $index) {
              <li (click)="navigateToChildRoute(item, childIndex)">
                <i class="bi bi-dash me-1"></i>
                <a
                  [ngClass]="{
                    'text-warning':
                      activeChildIndex === childIndex && activeIndex === i
                  }"
                  >{{ item?.name }}</a
                >
              </li>
              }
            </ul>
            } }
          </ul>

          <button
            class="btn btn-warning d-flex align-items-center justify-content-center"
            style="
              position: absolute;
              bottom: 2%;
              left: 50%;
              transform: translate(-50%, -2%);
              width: 85%;
              padding: 5px;
            "
            (click)="logout()"
          >
            <i class="bi bi-box-arrow-left me-2" style="font-size: 18px"></i>
            Logout
          </button>
        </div>
        <div class="col-10 p-3 sidebar-body">
          @if (breadCrumbaName) {
          <div class="container-fluid mb-3">
            <div class="row">
              <div class="col">
                <div class="ms-1">
                  <nz-breadcrumb>
                    <nz-breadcrumb-item>
                      <i class="bi bi-grid me-1"></i>
                      <span>Dashboard</span>
                    </nz-breadcrumb-item>
                    @if(ChildBreadCrumbName){
                    <nz-breadcrumb-item>
                      <span>{{ breadCrumbaName }}</span>
                    </nz-breadcrumb-item>
                    <nz-breadcrumb-item>
                      <a>
                        <span>{{ ChildBreadCrumbName }}</span>
                      </a>
                    </nz-breadcrumb-item>
                    }@else {
                    <nz-breadcrumb-item>
                      <a>
                        <span>{{ breadCrumbaName }}</span>
                      </a>
                    </nz-breadcrumb-item>
                    }
                  </nz-breadcrumb>
                </div>
              </div>
            </div>
          </div>
          }
          <router-outlet></router-outlet>
          <!-- <footer>
            <p
              class="rounded-top bg-white text-center my-0 mx-3 py-3"
              style="
                box-shadow: 0px 5px 20px 0px rgba(92, 97, 242, 0.2);
                font-size: 12px;
              "
            >
              CopyrightÂ© 2024
              <b style="color: var(--secondary-color)">Monaris</b>, All rights
              reserved
            </p>
          </footer> -->
        </div>
      </div>
    </div>
  </div>
</section>
